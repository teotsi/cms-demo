import "leaflet-defaulticon-compatibility";
import 'leaflet-defaulticon-compatibility/dist/leaflet-defaulticon-compatibility.css';
import 'leaflet/dist/leaflet.css';
import { MapContainer, Polyline, TileLayer } from 'react-leaflet';
import { useStore } from "../zustand/store";
import MarketSet from "./markerSet";

const highways = [[[37.99426612034, 23.73257227175], [37.99426216011, 23.73257538259], [37.99425502302, 23.73258098893], [37.9942090484, 23.73256757788]],
[[37.99447009933, 23.7325561785], [37.99442623861, 23.73254544966], [37.99438079254, 23.73258568279]], [[37.99382962455, 23.73210355572], [37.9937662109, 23.73204655878]],
[[37.993787394, 23.73236467404], [37.99376145487, 23.73235367171], [37.99371759373, 23.73237378828], [37.99375775574, 23.73243547909], [37.99377836519, 23.73243614964]],
[[37.99445266073, 23.73243212633], [37.99441936885, 23.73245894842], [37.99440245869, 23.73247906499]], [[37.99416307375, 23.73276069693], [37.99414774886, 23.73271442883]],
[[37.99443892123, 23.73266816072], [37.99439083295, 23.73262792759]], [[37.99380871964, 23.73223919623], [37.99373344716, 23.7322611355], [37.993787394, 23.73236467404]],
[[37.99414756328, 23.73253850097], [37.9941435213, 23.73259976439], [37.99416465908, 23.73260378771], [37.9941612404, 23.73262615563], [37.99416010818, 23.73263356359],
[37.99415755354, 23.7326502782], [37.99415534526, 23.73266472668], [37.99414774886, 23.73271442883]], [[37.99384640234, 23.73245995475], [37.99377836519, 23.73243614964]],
[[37.99382568635, 23.73212910852], [37.99374982903, 23.73215250604], [37.99381027333, 23.73222911522]], [[37.99419847952, 23.73267956011], [37.99419936724, 23.73265421525],
[37.99419953641, 23.73264938526], [37.99415755354, 23.7326502782]], [[37.99377836519, 23.73243614964], [37.99378564041, 23.73237855611], [37.993787394, 23.73236467404],
[37.99380871964, 23.73223919623], [37.99381027333, 23.73222911522], [37.99382568635, 23.73212910852], [37.99382962455, 23.73210355572]], [[37.99439400361, 23.73239792816],
[37.99440245869, 23.73247906499]], [[37.9942090484, 23.73256757788], [37.99420059329, 23.73255148463], [37.99414756328, 23.73253850097], [37.99405701999, 23.73251633273],
[37.99397120462, 23.73249532207], [37.99391576107, 23.73248174753]], [[37.99438079254, 23.73258568279], [37.99426612034, 23.73257227175]],
[[37.99377836519, 23.73243614964], [37.99376251177, 23.73252868585]], [[37.99376251177, 23.73252868585], [37.99374295922, 23.73253069751],
[37.99369011445, 23.73248375885], [37.99375775574, 23.73243547909]], [[37.99393689918, 23.73227253489], [37.99396596371, 23.73211897843], [37.99439400361, 23.73239792816]],
[[37.99397120462, 23.73249532207], [37.99396384992, 23.7325266742], [37.9940447021, 23.73259507053], [37.99405701999, 23.73251633273]],
[[37.99420746307, 23.73261049323], [37.99416465908, 23.73260378771]], [[37.99440245869, 23.73247906499], [37.99438079254, 23.73258568279], [37.99439083295, 23.73262792759]],
[[37.99391576107, 23.73248174753], [37.99390122866, 23.73249297945], [37.99385882083, 23.73248040659], [37.99384640234, 23.73245995475]],
[[37.99393689918, 23.73227253489], [37.99391576107, 23.73248174753]]]


const Map = () => {
  const pointsOfInterest = useStore(state => state.pointsOfInterest);

  return (
    <MapContainer center={[37.99408909, 23.73246165]} zoom={19} scrollWheelZoom={false} style={{ height: 700, zIndex: 0 }}>
      <TileLayer
        maxZoom={20}
        attribution='&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
        url="http://a.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png"
      />
      <Polyline pathOptions={{ color: 'green' }} positions={highways as any} />
      <MarketSet pois={pointsOfInterest} />
    </MapContainer>
  )
}

export default Map;